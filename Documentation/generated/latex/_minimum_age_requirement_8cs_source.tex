\hypertarget{_minimum_age_requirement_8cs_source}{}\doxysection{Minimum\+Age\+Requirement.\+cs}
\label{_minimum_age_requirement_8cs_source}\index{/Users/sascha.heimann/Projects/dotnet-\/cookie-\/based-\/identity/DotNetIdentity/IdentitySettings/Requirements/MinimumAgeRequirement.cs@{/Users/sascha.heimann/Projects/dotnet-\/cookie-\/based-\/identity/DotNetIdentity/IdentitySettings/Requirements/MinimumAgeRequirement.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00001}00001 \textcolor{keyword}{using }System.Security.Claims;}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00002}00002 \textcolor{keyword}{using }Microsoft.AspNetCore.Authorization;}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00004}00004 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_dot_net_identity_1_1_identity_settings_1_1_requirements}{DotNetIdentity.IdentitySettings.Requirements}}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00005}00005 \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00009}\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement}{00009}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement}{MinimumAgeRequirement}} : IAuthorizationRequirement}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00010}00010     \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00015}\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement_ae4a1ca6f4efa6137236db60bbd395667}{00015}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement_ae4a1ca6f4efa6137236db60bbd395667}{MinimumAgeRequirement}}(\textcolor{keywordtype}{int} minimumAge)}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00016}00016         \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00017}00017             \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement_a04d563b519473f3b6fbfd774aba0e6d8}{MinimumAge}} = minimumAge;}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00018}00018         \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00024}\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement_a04d563b519473f3b6fbfd774aba0e6d8}{00024}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement_a04d563b519473f3b6fbfd774aba0e6d8}{MinimumAge}} \{ \textcolor{keyword}{get}; \textcolor{keyword}{set}; \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00025}00025     \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00030}\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_handler}{00030}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_handler}{MinimumAgeHandler}} : AuthorizationHandler<MinimumAgeRequirement>}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00031}00031     \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00038}\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_handler_a58cfb308eb7c622b970c4955f4404bff}{00038}}         \textcolor{keyword}{protected} \textcolor{keyword}{override} Task \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_handler_a58cfb308eb7c622b970c4955f4404bff}{HandleRequirementAsync}}(AuthorizationHandlerContext context, \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement}{MinimumAgeRequirement}} requirement)}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00039}00039         \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00040}00040             var birthDayClaim = context.User.FindFirst(f => f.Type == ClaimTypes.DateOfBirth);}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00041}00041             \textcolor{keywordflow}{if} (birthDayClaim != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00042}00042             \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00043}00043                 var birthDay = Convert.ToDateTime(birthDayClaim.Value);}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00044}00044                 var calculatedAge = DateTime.Now.Year -\/ birthDay.Year;}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00045}00045                 \textcolor{keywordflow}{if} (calculatedAge >= requirement.\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_minimum_age_requirement_a04d563b519473f3b6fbfd774aba0e6d8}{MinimumAge}})}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00046}00046                 \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00047}00047                     context.Succeed(requirement);}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00048}00048                 \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00049}00049                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00050}00050                 \{}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00051}00051                     context.Fail();}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00052}00052                 \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00053}00053             \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00055}00055             \textcolor{keywordflow}{return} Task.CompletedTask;}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00056}00056         \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00057}00057     \}}
\DoxyCodeLine{\Hypertarget{_minimum_age_requirement_8cs_source_l00058}00058 \}}

\end{DoxyCode}
