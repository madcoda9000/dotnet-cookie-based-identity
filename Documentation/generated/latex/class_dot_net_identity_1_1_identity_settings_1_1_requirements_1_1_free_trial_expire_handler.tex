\hypertarget{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_handler}{}\doxysection{Dot\+Net\+Identity.\+Identity\+Settings.\+Requirements.\+Free\+Trial\+Expire\+Handler Class Reference}
\label{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_handler}\index{DotNetIdentity.IdentitySettings.Requirements.FreeTrialExpireHandler@{DotNetIdentity.IdentitySettings.Requirements.FreeTrialExpireHandler}}


class to define own Identity requirements type of \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_requirement}{Free\+Trial\+Expire\+Requirement}}  




Inheritance diagram for Dot\+Net\+Identity.\+Identity\+Settings.\+Requirements.\+Free\+Trial\+Expire\+Handler\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_handler__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
override Task \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_handler_a5facb99d658f55439c377c65d4cc45c2}{Handle\+Requirement\+Async}} (Authorization\+Handler\+Context context, \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_requirement}{Free\+Trial\+Expire\+Requirement}} requirement)
\begin{DoxyCompactList}\small\item\em overriding Handle\+Requirement\+Async \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
class to define own Identity requirements type of \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_requirement}{Free\+Trial\+Expire\+Requirement}} 

Definition at line \mbox{\hyperlink{_free_trial_expire_requirement_8cs_source_l00013}{13}} of file \mbox{\hyperlink{_free_trial_expire_requirement_8cs_source}{Free\+Trial\+Expire\+Requirement.\+cs}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_handler_a5facb99d658f55439c377c65d4cc45c2}\label{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_handler_a5facb99d658f55439c377c65d4cc45c2}} 
\index{DotNetIdentity.IdentitySettings.Requirements.FreeTrialExpireHandler@{DotNetIdentity.IdentitySettings.Requirements.FreeTrialExpireHandler}!HandleRequirementAsync@{HandleRequirementAsync}}
\index{HandleRequirementAsync@{HandleRequirementAsync}!DotNetIdentity.IdentitySettings.Requirements.FreeTrialExpireHandler@{DotNetIdentity.IdentitySettings.Requirements.FreeTrialExpireHandler}}
\doxysubsubsection{\texorpdfstring{HandleRequirementAsync()}{HandleRequirementAsync()}}
{\footnotesize\ttfamily override Task Dot\+Net\+Identity.\+Identity\+Settings.\+Requirements.\+Free\+Trial\+Expire\+Handler.\+Handle\+Requirement\+Async (\begin{DoxyParamCaption}\item[{Authorization\+Handler\+Context}]{context,  }\item[{\mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_requirement}{Free\+Trial\+Expire\+Requirement}}}]{requirement }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



overriding Handle\+Requirement\+Async 


\begin{DoxyParams}{Parameters}
{\em context} & Authorization\+Handler\+Context\\
\hline
{\em requirement} & \mbox{\hyperlink{class_dot_net_identity_1_1_identity_settings_1_1_requirements_1_1_free_trial_expire_requirement}{Free\+Trial\+Expire\+Requirement}}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Task
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_free_trial_expire_requirement_8cs_source_l00021}{21}} of file \mbox{\hyperlink{_free_trial_expire_requirement_8cs_source}{Free\+Trial\+Expire\+Requirement.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00022         \{}
\DoxyCodeLine{00023             var freeTrialClaim = context.User.FindFirst(f => f.Type == \textcolor{stringliteral}{"{}FreeTrial"{}});}
\DoxyCodeLine{00024             \textcolor{keywordflow}{if} (freeTrialClaim != \textcolor{keyword}{null})}
\DoxyCodeLine{00025             \{}
\DoxyCodeLine{00026                 var freeTrialExpires = Convert.ToDateTime(freeTrialClaim.Value).AddDays(30);}
\DoxyCodeLine{00027                 \textcolor{keywordflow}{if} (DateTime.Now < freeTrialExpires)}
\DoxyCodeLine{00028                 \{}
\DoxyCodeLine{00029                     context.Succeed(requirement);}
\DoxyCodeLine{00030                 \}}
\DoxyCodeLine{00031                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00032                 \{}
\DoxyCodeLine{00033                     context.Fail();}
\DoxyCodeLine{00034                 \}}
\DoxyCodeLine{00035             \}}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037             \textcolor{keywordflow}{return} Task.CompletedTask;}
\DoxyCodeLine{00038         \}}

\end{DoxyCode}
